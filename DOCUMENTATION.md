# 🍃 Konoha WhatsApp Bot Documentation

## Overview
Konoha Bot is a feature-rich WhatsApp bot that provides real-time authentication, session management, and group interaction capabilities.

## Features

### 🔐 Authentication
- **Phone Number Authentication**: Use your phone number for authentication
- **Pairing Code Method**: More secure than QR code scanning
- **Session Persistence**: Maintains login across bot restarts
- **Automatic Reconnection**: Handles connection drops gracefully

### 👥 Group Commands
- **Tag All (`.tagall`)**: Mentions all group members
- **Custom Messages**: Add custom text with tagall command
- **Group-Only Restriction**: Prevents misuse in private chats

### 🏓 Utility Commands
- **Ping (`.ping`)**: Shows bot status (active), ping time, and uptime
- **Group Info (`.groupinfo`)**: Shows detailed group information including stats, settings, and member details
- **Joke (`.joke`)**: Sends random jokes to entertain users and brighten the mood
- **Meme (`.meme`)**: Sends random viral image memes with optional category selection for entertainment
- **Translate (`.translate`)**: Translates text to different languages using language codes
- **Simple Status**: Displays only essential bot information

### 💾 Session Management
- **Automatic Session Saving**: Sessions stored in `./sessions` directory
- **Cross-Platform Support**: Works on Windows, Linux, and macOS
- **Session Recovery**: Automatic recovery from corrupted sessions

## Installation & Setup

### Prerequisites
- Node.js 16 or higher
- Active WhatsApp account
- Stable internet connection

### Step-by-Step Installation

1. **Clone/Download the Project**
   ```bash
   git clone <repository-url>
   cd Konoha-Bot
   ```

2. **Install Dependencies**
   ```bash
   npm install
   ```

3. **Start the Bot**
   ```bash
   npm start
   ```
   Or on Windows:
   ```bash
   start.bat
   ```

## First-Time Setup

### Authentication Process

1. **Run the Bot**: Execute `npm start` or `start.bat`
2. **Choose Authentication Method**:
   - **Pairing Code (Recommended)**: Wait for the 8-digit code to appear
   - **QR Code**: Scan with WhatsApp if pairing code doesn't work

3. **Link with WhatsApp**:
   - Open WhatsApp on your phone
   - Go to **Settings** → **Linked Devices** → **Link a Device**
   - Choose **Link with Phone Number instead**
   - Enter the 8-digit pairing code shown in the terminal

4. **Confirmation**: Bot will show "Authentication successful!" when linked

### Session Management

- Sessions are automatically saved in the `sessions` folder
- On subsequent runs, the bot will use the saved session
- No need to re-authenticate unless session expires

## Commands Usage

### 🏓 Ping Command
**Usage**: `.ping`
**Description**: Shows bot status, ping, and uptime
**Example**:
```
User: .ping
Bot: 🏓 Pong!

✅ Status: Active
🏓 Ping: 145ms
⏰ Uptime: 2 hours
```

### 👥 Tag All Command
**Usage**: `.tagall [optional message]`
**Description**: Tags all group members
**Restrictions**: Groups only
**Examples**:
```
User: .tagall
Bot: 📢 Attention everyone!

@user1 @user2 @user3 ...

User: .tagall rally war
Bot: 📢 rally war

@user1 @user2 @user3 ...
```

### 📊 Group Info Command
**Usage**: `.groupinfo`
**Description**: Shows comprehensive group information
**Restrictions**: Groups only
**Example**:
```
User: .groupinfo
Bot: 📊 Group Information

👥 Name: My Awesome Group
🆔 Group ID: 1234567890@g.us
📝 Description: Welcome to our group!

📈 Statistics:
• Total Members: 25
• Admins: 3
• Regular Members: 22

📅 Created: 2024-01-15 10:30:25

⚙️ Settings:
• Profile Picture: ✅ Yes
• Announcement Mode: ❌ Off
• Disappearing Messages: ❌ Off

👑 Admins:
1. @admin1
2. @admin2
3. @admin3

🤖 Info generated by Konoha Bot
```

### 😂 Joke Command
**Usage**: `.joke`
**Description**: Sends a random joke to entertain users
**Restrictions**: None (works in groups and private chats)
**Example**:
```
User: .joke
Bot: 😂 Random Joke Time!

Why don't scientists trust atoms? Because they make up everything! 🔬

🤖 Hope that made you smile! 😄
```

### 🎭 Meme Command
**Usage**: `.meme [category]`
**Description**: Sends random memes for entertainment
**Restrictions**: None (works in groups and private chats)
**Categories**: `classic`, `viral`, `reaction`, `modern`, `random`
**Examples**:
```
User: .meme
Bot: 🎭 MEME TIME! 🎭

**RANDOM MEME** 🤡

*Me: I'll just check one thing quickly*

*3 hours later...*

*Still checking 'one thing'* 🤦‍♂️

😂 Hope this made you laugh! 🤣
```

### 🌐 Translate Command
**Usage**: `.translate [language_code] [text]`
**Description**: Translates text to different languages
**Restrictions**: None (works in groups and private chats)
**Supported Languages**: 80+ languages including English, Spanish, French, German, Hindi, Japanese, Korean, Chinese, Arabic, Russian, and many more
**Examples**:
```
User: .translate es Hello world
Bot: 🌐 Translation Result

📝 Original: Hello world

🎯 Spanish (ES): Hola mundo

🤖 Translated by Konoha Bot
```

```
User: .translate hi How are you?
Bot: 🌐 Translation Result

📝 Original: How are you?

🎯 Hindi (HI): आप कैसे हैं?

🤖 Translated by Konoha Bot
```

**Popular Language Codes:**
- `en` - English, `es` - Spanish, `fr` - French, `de` - German
- `hi` - Hindi, `ja` - Japanese, `ko` - Korean, `zh` - Chinese
- `ar` - Arabic, `ru` - Russian, `pt` - Portuguese, `it` - Italian

```
User: .meme viral
Bot: [Sends a viral image meme like Distracted Boyfriend, 
     Bernie Sanders, or Gigachad with caption]
     
🎭 Viral Meme! �

Fresh from the internet! 🔥
```

## Configuration

### Config File (`src/config.js`)
```javascript
const config = {
    botName: 'Konoha Bot',           // Bot display name
    prefix: '.',                     // Command prefix
    sessionName: 'konoha-session',   // Session identifier
    // ... more options
};
```

### Customizable Options
- **Bot Name**: Change the display name
- **Command Prefix**: Change from `.` to any character
- **Session Path**: Modify where sessions are stored
- **Command Toggles**: Enable/disable specific commands
- **Custom Messages**: Modify bot responses

## File Structure
```
Konoha-Bot/
├── src/
│   ├── commands/           # Individual command files
│   │   ├── index.js       # Command loader
│   │   ├── ping.js        # Ping command
│   │   ├── tagall.js      # Tag all command
│   │   └── README.md      # Commands documentation
│   ├── bot.js             # Main bot logic
│   ├── config.js          # Configuration settings
│   ├── sessionManager.js  # Session handling
│   └── commandHandler.js  # Command processing system
├── sessions/              # Session storage (auto-created)
├── package.json          # Dependencies & scripts
├── start.bat            # Windows launcher
├── README.md            # Basic documentation
└── .gitignore          # Git ignore rules
```

## Troubleshooting

### Common Issues

#### Authentication Problems
**Symptom**: "Authentication failed" message
**Solutions**:
1. Clear sessions: Delete `sessions` folder and restart
2. Check internet connection
3. Ensure WhatsApp is not logged in elsewhere
4. Try QR code method if pairing code fails

#### Bot Not Responding
**Symptom**: Commands not working
**Solutions**:
1. Check if bot shows "ready" message
2. Verify command syntax (includes `.` prefix)
3. Ensure you're using commands in appropriate contexts (groups for tagall)
4. Restart the bot

#### Session Issues
**Symptom**: Frequent re-authentication requests
**Solutions**:
1. Ensure `sessions` folder has write permissions
2. Check disk space availability
3. Verify Node.js version compatibility
4. Close other WhatsApp Web instances

### Error Messages

#### "ECONNREFUSED" or Connection Errors
- Check internet connectivity
- Verify firewall settings
- Try different network

#### "Session corrupt" or Similar
- Delete `sessions` folder
- Restart bot for fresh authentication

#### "Module not found" Errors
- Run `npm install` to reinstall dependencies
- Check Node.js version (`node --version`)

## Advanced Usage

### Running in Production

#### Using PM2 (Process Manager)
```bash
npm install -g pm2
pm2 start src/bot.js --name konoha-bot
pm2 save
pm2 startup
```

#### Running as Windows Service
1. Install `node-windows` globally
2. Create service script using provided templates
3. Install service with administrative privileges

### Multiple Bot Instances
- Modify `sessionName` in config for each instance
- Use different session directories
- Ensure phone numbers are different for each bot

### Adding Custom Commands
Commands are now modular! Create new command files in `src/commands/`:

1. **Create command file** (e.g., `src/commands/hello.js`):
```javascript
const config = require('../config');

class HelloCommand {
    constructor() {
        this.name = 'hello';
        this.description = 'Say hello';
        this.enabled = true;
        this.groupOnly = false;
    }

    async execute(message, args, client, botInstance) {
        await message.reply('Hello! 👋');
    }
}

module.exports = HelloCommand;
```

2. **Add to config** (`src/config.js`):
```javascript
hello: {
    enabled: true,
    description: 'Say hello'
}
```

3. **Restart bot** - Commands load automatically!

## Security Considerations

### Best Practices
- Keep session files secure and private
- Don't share session data or authentication tokens
- Run bot on trusted networks only
- Monitor bot activity regularly
- Update dependencies regularly for security patches

### Privacy Notes
- Bot has access to all messages in groups where it's added
- Session data contains authentication information
- Local storage only - no cloud data transmission

## Support & Updates

### Getting Help
1. Check this documentation first
2. Review error messages carefully  
3. Test with minimal configuration
4. Check Node.js and npm versions

### Updating the Bot
1. Backup your `sessions` folder
2. Download new version
3. Run `npm install` for updated dependencies
4. Copy back session files
5. Test functionality

## Performance Tips

### Optimization
- Use SSD storage for better session handling
- Ensure adequate RAM (minimum 512MB available)
- Close unnecessary applications
- Use wired internet when possible

### Monitoring
- Check terminal output for errors
- Monitor response times with ping command
- Watch for disconnection messages
- Keep bot updated for best performance

---

**Version**: 1.0.0
**Last Updated**: October 2024
**License**: MIT